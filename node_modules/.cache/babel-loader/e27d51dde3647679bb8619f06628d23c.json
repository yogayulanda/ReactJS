{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _dom = require(\"@testing-library/dom\");\n\nfunction wait(time) {\n  return new Promise(function (resolve) {\n    setTimeout(() => resolve(), time);\n  });\n}\n\nfunction findTagInParents(element, tagName) {\n  if (element.parentNode == null) return undefined;\n  if (element.parentNode.tagName === tagName) return element.parentNode;\n  return findTagInParents(element.parentNode, tagName);\n}\n\nfunction clickLabel(label) {\n  _dom.fireEvent.mouseOver(label);\n\n  _dom.fireEvent.mouseMove(label);\n\n  _dom.fireEvent.mouseDown(label);\n\n  _dom.fireEvent.mouseUp(label);\n\n  if (label.htmlFor) {\n    const input = document.getElementById(label.htmlFor);\n    input.focus();\n\n    _dom.fireEvent.click(label);\n  } else {\n    const input = label.querySelector(\"input,textarea,select\");\n    input.focus();\n    label.focus();\n\n    _dom.fireEvent.click(label);\n  }\n}\n\nfunction clickBooleanElement(element) {\n  if (element.disabled) return;\n\n  _dom.fireEvent.mouseOver(element);\n\n  _dom.fireEvent.mouseMove(element);\n\n  _dom.fireEvent.mouseDown(element);\n\n  _dom.fireEvent.mouseUp(element);\n\n  _dom.fireEvent.click(element);\n}\n\nfunction clickElement(element) {\n  _dom.fireEvent.mouseOver(element);\n\n  _dom.fireEvent.mouseMove(element);\n\n  _dom.fireEvent.mouseDown(element);\n\n  element.focus();\n\n  _dom.fireEvent.mouseUp(element);\n\n  _dom.fireEvent.click(element);\n\n  const labelAncestor = findTagInParents(element, \"LABEL\");\n  labelAncestor && clickLabel(labelAncestor);\n}\n\nfunction dblClickElement(element) {\n  _dom.fireEvent.mouseOver(element);\n\n  _dom.fireEvent.mouseMove(element);\n\n  _dom.fireEvent.mouseDown(element);\n\n  element.focus();\n\n  _dom.fireEvent.mouseUp(element);\n\n  _dom.fireEvent.click(element);\n\n  _dom.fireEvent.mouseDown(element);\n\n  _dom.fireEvent.mouseUp(element);\n\n  _dom.fireEvent.click(element);\n\n  _dom.fireEvent.dblClick(element);\n\n  const labelAncestor = findTagInParents(element, \"LABEL\");\n  labelAncestor && clickLabel(labelAncestor);\n}\n\nfunction dblClickCheckbox(checkbox) {\n  _dom.fireEvent.mouseOver(checkbox);\n\n  _dom.fireEvent.mouseMove(checkbox);\n\n  _dom.fireEvent.mouseDown(checkbox);\n\n  _dom.fireEvent.mouseUp(checkbox);\n\n  _dom.fireEvent.click(checkbox);\n\n  _dom.fireEvent.mouseDown(checkbox);\n\n  _dom.fireEvent.mouseUp(checkbox);\n\n  _dom.fireEvent.click(checkbox);\n}\n\nfunction selectOption(select, option) {\n  _dom.fireEvent.mouseOver(option);\n\n  _dom.fireEvent.mouseMove(option);\n\n  _dom.fireEvent.mouseDown(option);\n\n  _dom.fireEvent.focus(option);\n\n  _dom.fireEvent.mouseUp(option);\n\n  _dom.fireEvent.click(option);\n\n  option.selected = true;\n\n  _dom.fireEvent.change(select);\n}\n\nfunction fireChangeEvent(event) {\n  _dom.fireEvent.change(event.target);\n\n  event.target.removeEventListener(\"blur\", fireChangeEvent);\n}\n\nconst userEvent = {\n  click(element) {\n    const focusedElement = element.ownerDocument.activeElement;\n    const wasAnotherElementFocused = focusedElement !== element.ownerDocument.body && focusedElement !== element;\n\n    if (wasAnotherElementFocused) {\n      _dom.fireEvent.mouseMove(focusedElement);\n\n      _dom.fireEvent.mouseLeave(focusedElement);\n    }\n\n    switch (element.tagName) {\n      case \"LABEL\":\n        clickLabel(element);\n        break;\n\n      case \"INPUT\":\n        if (element.type === \"checkbox\" || element.type === \"radio\") {\n          clickBooleanElement(element);\n          break;\n        }\n\n      default:\n        clickElement(element);\n    }\n\n    wasAnotherElementFocused && focusedElement.blur();\n  },\n\n  dblClick(element) {\n    const focusedElement = document.activeElement;\n    const wasAnotherElementFocused = focusedElement !== document.body && focusedElement !== element;\n\n    if (wasAnotherElementFocused) {\n      _dom.fireEvent.mouseMove(focusedElement);\n\n      _dom.fireEvent.mouseLeave(focusedElement);\n    }\n\n    switch (element.tagName) {\n      case \"INPUT\":\n        if (element.type === \"checkbox\") {\n          dblClickCheckbox(element);\n          break;\n        }\n\n      default:\n        dblClickElement(element);\n    }\n\n    wasAnotherElementFocused && focusedElement.blur();\n  },\n\n  selectOptions(element, values) {\n    const focusedElement = document.activeElement;\n    const wasAnotherElementFocused = focusedElement !== document.body && focusedElement !== element;\n\n    if (wasAnotherElementFocused) {\n      _dom.fireEvent.mouseMove(focusedElement);\n\n      _dom.fireEvent.mouseLeave(focusedElement);\n    }\n\n    clickElement(element);\n    const valArray = Array.isArray(values) ? values : [values];\n    const selectedOptions = Array.from(element.children).filter(opt => opt.tagName === \"OPTION\" && valArray.includes(opt.value));\n\n    if (selectedOptions.length > 0) {\n      if (element.multiple) {\n        selectedOptions.forEach(option => selectOption(element, option));\n      } else {\n        selectOption(element, selectedOptions[0]);\n      }\n    }\n\n    wasAnotherElementFocused && focusedElement.blur();\n  },\n\n  async type(element, text, userOpts = {}) {\n    if (element.disabled) return;\n    const defaultOpts = {\n      allAtOnce: false,\n      delay: 0\n    };\n    const opts = Object.assign(defaultOpts, userOpts);\n\n    if (opts.allAtOnce) {\n      if (element.readOnly) return;\n\n      _dom.fireEvent.input(element, {\n        target: {\n          value: text\n        }\n      });\n    } else {\n      let actuallyTyped = \"\";\n\n      for (let index = 0; index < text.length; index++) {\n        const char = text[index];\n        const key = char; // TODO: check if this also valid for characters with diacritic markers e.g. úé etc\n\n        const keyCode = char.charCodeAt(0);\n        if (opts.delay > 0) await wait(opts.delay);\n\n        const downEvent = _dom.fireEvent.keyDown(element, {\n          key: key,\n          keyCode: keyCode,\n          which: keyCode\n        });\n\n        if (downEvent) {\n          const pressEvent = _dom.fireEvent.keyPress(element, {\n            key: key,\n            keyCode,\n            charCode: keyCode\n          });\n\n          if (pressEvent) {\n            actuallyTyped += key;\n            if (!element.readOnly) _dom.fireEvent.input(element, {\n              target: {\n                value: actuallyTyped\n              },\n              bubbles: true,\n              cancelable: true\n            });\n          }\n        }\n\n        _dom.fireEvent.keyUp(element, {\n          key: key,\n          keyCode: keyCode,\n          which: keyCode\n        });\n      }\n    }\n\n    element.addEventListener(\"blur\", fireChangeEvent);\n  },\n\n  tab({\n    shift = false,\n    focusTrap = document\n  } = {}) {\n    const focusableElements = focusTrap.querySelectorAll(\"input, button, select, textarea, a[href], [tabindex]\");\n    const list = Array.prototype.filter.call(focusableElements, function (item) {\n      return item.getAttribute(\"tabindex\") !== \"-1\";\n    }).sort((a, b) => {\n      const tabIndexA = a.getAttribute(\"tabindex\");\n      const tabIndexB = b.getAttribute(\"tabindex\");\n      return tabIndexA < tabIndexB ? -1 : tabIndexA > tabIndexB ? 1 : 0;\n    });\n    const index = list.indexOf(document.activeElement);\n    let nextIndex = shift ? index - 1 : index + 1;\n    let defaultIndex = shift ? list.length - 1 : 0;\n    const next = list[nextIndex] || list[defaultIndex];\n\n    if (next.getAttribute(\"tabindex\") === null) {\n      next.setAttribute(\"tabindex\", \"0\"); // jsdom requires tabIndex=0 for an item to become 'document.activeElement' (the browser does not)\n\n      next.focus();\n      next.removeAttribute(\"tabindex\"); // leave no trace. :)\n    } else {\n      next.focus();\n    }\n  }\n\n};\nvar _default = userEvent;\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/btpnshifted/Documents/Project/Shifted/NodeJs/project01/node_modules/@testing-library/user-event/dist/index.js"],"names":["Object","defineProperty","exports","value","default","_dom","require","wait","time","Promise","resolve","setTimeout","findTagInParents","element","tagName","parentNode","undefined","clickLabel","label","fireEvent","mouseOver","mouseMove","mouseDown","mouseUp","htmlFor","input","document","getElementById","focus","click","querySelector","clickBooleanElement","disabled","clickElement","labelAncestor","dblClickElement","dblClick","dblClickCheckbox","checkbox","selectOption","select","option","selected","change","fireChangeEvent","event","target","removeEventListener","userEvent","focusedElement","ownerDocument","activeElement","wasAnotherElementFocused","body","mouseLeave","type","blur","selectOptions","values","valArray","Array","isArray","selectedOptions","from","children","filter","opt","includes","length","multiple","forEach","text","userOpts","defaultOpts","allAtOnce","delay","opts","assign","readOnly","actuallyTyped","index","char","key","keyCode","charCodeAt","downEvent","keyDown","which","pressEvent","keyPress","charCode","bubbles","cancelable","keyUp","addEventListener","tab","shift","focusTrap","focusableElements","querySelectorAll","list","prototype","call","item","getAttribute","sort","a","b","tabIndexA","tabIndexB","indexOf","nextIndex","defaultIndex","next","setAttribute","removeAttribute","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _dom = require(\"@testing-library/dom\");\n\nfunction wait(time) {\n  return new Promise(function (resolve) {\n    setTimeout(() => resolve(), time);\n  });\n}\n\nfunction findTagInParents(element, tagName) {\n  if (element.parentNode == null) return undefined;\n  if (element.parentNode.tagName === tagName) return element.parentNode;\n  return findTagInParents(element.parentNode, tagName);\n}\n\nfunction clickLabel(label) {\n  _dom.fireEvent.mouseOver(label);\n\n  _dom.fireEvent.mouseMove(label);\n\n  _dom.fireEvent.mouseDown(label);\n\n  _dom.fireEvent.mouseUp(label);\n\n  if (label.htmlFor) {\n    const input = document.getElementById(label.htmlFor);\n    input.focus();\n\n    _dom.fireEvent.click(label);\n  } else {\n    const input = label.querySelector(\"input,textarea,select\");\n    input.focus();\n    label.focus();\n\n    _dom.fireEvent.click(label);\n  }\n}\n\nfunction clickBooleanElement(element) {\n  if (element.disabled) return;\n\n  _dom.fireEvent.mouseOver(element);\n\n  _dom.fireEvent.mouseMove(element);\n\n  _dom.fireEvent.mouseDown(element);\n\n  _dom.fireEvent.mouseUp(element);\n\n  _dom.fireEvent.click(element);\n}\n\nfunction clickElement(element) {\n  _dom.fireEvent.mouseOver(element);\n\n  _dom.fireEvent.mouseMove(element);\n\n  _dom.fireEvent.mouseDown(element);\n\n  element.focus();\n\n  _dom.fireEvent.mouseUp(element);\n\n  _dom.fireEvent.click(element);\n\n  const labelAncestor = findTagInParents(element, \"LABEL\");\n  labelAncestor && clickLabel(labelAncestor);\n}\n\nfunction dblClickElement(element) {\n  _dom.fireEvent.mouseOver(element);\n\n  _dom.fireEvent.mouseMove(element);\n\n  _dom.fireEvent.mouseDown(element);\n\n  element.focus();\n\n  _dom.fireEvent.mouseUp(element);\n\n  _dom.fireEvent.click(element);\n\n  _dom.fireEvent.mouseDown(element);\n\n  _dom.fireEvent.mouseUp(element);\n\n  _dom.fireEvent.click(element);\n\n  _dom.fireEvent.dblClick(element);\n\n  const labelAncestor = findTagInParents(element, \"LABEL\");\n  labelAncestor && clickLabel(labelAncestor);\n}\n\nfunction dblClickCheckbox(checkbox) {\n  _dom.fireEvent.mouseOver(checkbox);\n\n  _dom.fireEvent.mouseMove(checkbox);\n\n  _dom.fireEvent.mouseDown(checkbox);\n\n  _dom.fireEvent.mouseUp(checkbox);\n\n  _dom.fireEvent.click(checkbox);\n\n  _dom.fireEvent.mouseDown(checkbox);\n\n  _dom.fireEvent.mouseUp(checkbox);\n\n  _dom.fireEvent.click(checkbox);\n}\n\nfunction selectOption(select, option) {\n  _dom.fireEvent.mouseOver(option);\n\n  _dom.fireEvent.mouseMove(option);\n\n  _dom.fireEvent.mouseDown(option);\n\n  _dom.fireEvent.focus(option);\n\n  _dom.fireEvent.mouseUp(option);\n\n  _dom.fireEvent.click(option);\n\n  option.selected = true;\n\n  _dom.fireEvent.change(select);\n}\n\nfunction fireChangeEvent(event) {\n  _dom.fireEvent.change(event.target);\n\n  event.target.removeEventListener(\"blur\", fireChangeEvent);\n}\n\nconst userEvent = {\n  click(element) {\n    const focusedElement = element.ownerDocument.activeElement;\n    const wasAnotherElementFocused = focusedElement !== element.ownerDocument.body && focusedElement !== element;\n\n    if (wasAnotherElementFocused) {\n      _dom.fireEvent.mouseMove(focusedElement);\n\n      _dom.fireEvent.mouseLeave(focusedElement);\n    }\n\n    switch (element.tagName) {\n      case \"LABEL\":\n        clickLabel(element);\n        break;\n\n      case \"INPUT\":\n        if (element.type === \"checkbox\" || element.type === \"radio\") {\n          clickBooleanElement(element);\n          break;\n        }\n\n      default:\n        clickElement(element);\n    }\n\n    wasAnotherElementFocused && focusedElement.blur();\n  },\n\n  dblClick(element) {\n    const focusedElement = document.activeElement;\n    const wasAnotherElementFocused = focusedElement !== document.body && focusedElement !== element;\n\n    if (wasAnotherElementFocused) {\n      _dom.fireEvent.mouseMove(focusedElement);\n\n      _dom.fireEvent.mouseLeave(focusedElement);\n    }\n\n    switch (element.tagName) {\n      case \"INPUT\":\n        if (element.type === \"checkbox\") {\n          dblClickCheckbox(element);\n          break;\n        }\n\n      default:\n        dblClickElement(element);\n    }\n\n    wasAnotherElementFocused && focusedElement.blur();\n  },\n\n  selectOptions(element, values) {\n    const focusedElement = document.activeElement;\n    const wasAnotherElementFocused = focusedElement !== document.body && focusedElement !== element;\n\n    if (wasAnotherElementFocused) {\n      _dom.fireEvent.mouseMove(focusedElement);\n\n      _dom.fireEvent.mouseLeave(focusedElement);\n    }\n\n    clickElement(element);\n    const valArray = Array.isArray(values) ? values : [values];\n    const selectedOptions = Array.from(element.children).filter(opt => opt.tagName === \"OPTION\" && valArray.includes(opt.value));\n\n    if (selectedOptions.length > 0) {\n      if (element.multiple) {\n        selectedOptions.forEach(option => selectOption(element, option));\n      } else {\n        selectOption(element, selectedOptions[0]);\n      }\n    }\n\n    wasAnotherElementFocused && focusedElement.blur();\n  },\n\n  async type(element, text, userOpts = {}) {\n    if (element.disabled) return;\n    const defaultOpts = {\n      allAtOnce: false,\n      delay: 0\n    };\n    const opts = Object.assign(defaultOpts, userOpts);\n\n    if (opts.allAtOnce) {\n      if (element.readOnly) return;\n\n      _dom.fireEvent.input(element, {\n        target: {\n          value: text\n        }\n      });\n    } else {\n      let actuallyTyped = \"\";\n\n      for (let index = 0; index < text.length; index++) {\n        const char = text[index];\n        const key = char; // TODO: check if this also valid for characters with diacritic markers e.g. úé etc\n\n        const keyCode = char.charCodeAt(0);\n        if (opts.delay > 0) await wait(opts.delay);\n\n        const downEvent = _dom.fireEvent.keyDown(element, {\n          key: key,\n          keyCode: keyCode,\n          which: keyCode\n        });\n\n        if (downEvent) {\n          const pressEvent = _dom.fireEvent.keyPress(element, {\n            key: key,\n            keyCode,\n            charCode: keyCode\n          });\n\n          if (pressEvent) {\n            actuallyTyped += key;\n            if (!element.readOnly) _dom.fireEvent.input(element, {\n              target: {\n                value: actuallyTyped\n              },\n              bubbles: true,\n              cancelable: true\n            });\n          }\n        }\n\n        _dom.fireEvent.keyUp(element, {\n          key: key,\n          keyCode: keyCode,\n          which: keyCode\n        });\n      }\n    }\n\n    element.addEventListener(\"blur\", fireChangeEvent);\n  },\n\n  tab({\n    shift = false,\n    focusTrap = document\n  } = {}) {\n    const focusableElements = focusTrap.querySelectorAll(\"input, button, select, textarea, a[href], [tabindex]\");\n    const list = Array.prototype.filter.call(focusableElements, function (item) {\n      return item.getAttribute(\"tabindex\") !== \"-1\";\n    }).sort((a, b) => {\n      const tabIndexA = a.getAttribute(\"tabindex\");\n      const tabIndexB = b.getAttribute(\"tabindex\");\n      return tabIndexA < tabIndexB ? -1 : tabIndexA > tabIndexB ? 1 : 0;\n    });\n    const index = list.indexOf(document.activeElement);\n    let nextIndex = shift ? index - 1 : index + 1;\n    let defaultIndex = shift ? list.length - 1 : 0;\n    const next = list[nextIndex] || list[defaultIndex];\n\n    if (next.getAttribute(\"tabindex\") === null) {\n      next.setAttribute(\"tabindex\", \"0\"); // jsdom requires tabIndex=0 for an item to become 'document.activeElement' (the browser does not)\n\n      next.focus();\n      next.removeAttribute(\"tabindex\"); // leave no trace. :)\n    } else {\n      next.focus();\n    }\n  }\n\n};\nvar _default = userEvent;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}